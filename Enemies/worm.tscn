[gd_scene load_steps=9 format=3 uid="uid://76gsp4ebwiuc"]

[ext_resource type="Script" path="res://Enemies/worm.gd" id="1_hlblv"]
[ext_resource type="Texture2D" uid="uid://b0apidial1asc" path="res://Sprites/Worm.png" id="2_wf82b"]
[ext_resource type="PackedScene" uid="uid://bxno88hy1smwd" path="res://Enemies/worm_body.tscn" id="3_qldn8"]
[ext_resource type="Script" path="res://Enemies/worm_body.gd" id="4_tj7cu"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_pn7ld"]
radius = 62.5
height = 170.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_dsse8"]
radius = 60.0
height = 190.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_n05tv"]
radius = 62.5
height = 170.0

[sub_resource type="CircleShape2D" id="CircleShape2D_gbsc2"]
radius = 255.11

[node name="Worm" type="CharacterBody2D"]
rotation = 3.14159
scale = Vector2(0.4, 0.4)
script = ExtResource("1_hlblv")

[node name="Head" type="CharacterBody2D" parent="."]
collision_layer = 0
collision_mask = 0

[node name="SprHead" type="Sprite2D" parent="Head"]
z_index = 2
position = Vector2(7.15256e-07, 0)
rotation = 3.14159
texture = ExtResource("2_wf82b")
region_enabled = true
region_rect = Rect2(213.99, 6.80727, 131.433, 209.736)

[node name="SprEye" type="Sprite2D" parent="Head"]
z_index = 3
z_as_relative = false
position = Vector2(-10, 2.5)
rotation = 3.14159
texture = ExtResource("2_wf82b")
region_enabled = true
region_rect = Rect2(590.211, 22.1105, 91.6604, 174.305)

[node name="Sense" type="Area2D" parent="Head"]
collision_layer = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="Head/Sense"]
position = Vector2(-2.18557e-07, -2.5)
shape = SubResource("CapsuleShape2D_pn7ld")

[node name="Hurtbox" type="Area2D" parent="Head"]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Head/Hurtbox"]
shape = SubResource("CapsuleShape2D_dsse8")

[node name="WormBody" parent="." instance=ExtResource("3_qldn8")]
position = Vector2(150, 2.49999)

[node name="Hitbox" type="Area2D" parent="WormBody"]
collision_layer = 2
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="WormBody/Hitbox"]
rotation = 1.5708
shape = SubResource("CapsuleShape2D_n05tv")

[node name="Tail" type="CharacterBody2D" parent="."]
position = Vector2(0, 3.8147e-06)
script = ExtResource("4_tj7cu")

[node name="SprTail" type="Sprite2D" parent="Tail"]
position = Vector2(85.0001, -7.62939e-06)
rotation = 0.00621772
texture = ExtResource("2_wf82b")
region_enabled = true
region_rect = Rect2(4.42994, 226.638, 298.27, 148.609)

[node name="LeaveArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 16

[node name="CollisionShape2D" type="CollisionShape2D" parent="LeaveArea"]
shape = SubResource("CircleShape2D_gbsc2")

[node name="HoverTimer" type="Timer" parent="."]
wait_time = 6.0

[node name="TravelTimer" type="Timer" parent="."]
wait_time = 4.0

[connection signal="area_entered" from="Head/Sense" to="." method="_on_sense_area_entered"]
[connection signal="area_exited" from="Head/Sense" to="." method="_on_sense_area_exited"]
[connection signal="area_entered" from="WormBody/Hitbox" to="." method="_on_hitbox_area_entered"]
[connection signal="area_exited" from="WormBody/Hitbox" to="." method="_on_hitbox_area_exited"]
[connection signal="area_entered" from="LeaveArea" to="." method="_on_leave_area_area_entered"]
[connection signal="timeout" from="HoverTimer" to="." method="_on_hover_timer_timeout"]
[connection signal="timeout" from="TravelTimer" to="." method="_on_travel_timer_timeout"]
